<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Firebase Database Rotation Dashboard</title>
    <style>
        body {
            font-family: sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f4f4f4;
        }

        h1 {
            text-align: center;
            color: #333;
        }

        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding: 20px;
            overflow: hidden; /* Ensure content doesn't overflow */
        }

        .card-title {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 10px;
            color: #555;
        }

        .card-content {
            font-size: 1em;
            color: #777;
        }
        .status-active {
            color: green;
             font-weight: bold;
        }

        .status-inactive {
            color: red;
            font-weight: bold;
        }


        #log {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            background-color: #eee;
            height: 200px;
            overflow-y: scroll;
             font-family: monospace;
            white-space: pre-wrap; /* Preserve line breaks and spaces */
        }
        #testButton {
            display: block; /* Make it a block-level element */
            margin: 20px auto; /* Center the button horizontally */
            padding: 10px 20px;
            font-size: 16px;
            background-color: #4CAF50; /* Green */
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        #testButton:hover {
            background-color: #3e8e41;
        }

        #syncButton {
             display: block; /* Make it a block-level element */
            margin: 20px auto;
            padding: 10px 15px;
            font-size: 14px;
            background-color: #007bff; /* Blue */
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;

        }
        #syncButton:hover {
              background-color: #0056b3;
        }
       .error-message {
            color: red;
            font-weight: bold;
            margin-top: 10px;
        }

    </style>
</head>
<body>
    <h1>Firebase Database Rotation Dashboard</h1>

    <button id="testButton">Simulate User Connections</button>
    <button id="syncButton">Force Synchronization</button>
    <div class="dashboard" id="dashboard"></div>
    <h2>Logs</h2>
      <div id="log"></div>

    <script type="module">
const _0x19e427=_0x4e48;(function(_0x1fe791,_0xe102d3){const _0xea1862=_0x4e48,_0x1e9683=_0x1fe791();while(!![]){try{const _0x3cb214=-parseInt(_0xea1862(0x9e))/0x1+parseInt(_0xea1862(0x98))/0x2*(parseInt(_0xea1862(0x92))/0x3)+-parseInt(_0xea1862(0xa7))/0x4+-parseInt(_0xea1862(0xa9))/0x5+-parseInt(_0xea1862(0xa4))/0x6+parseInt(_0xea1862(0x8b))/0x7+parseInt(_0xea1862(0x9b))/0x8*(parseInt(_0xea1862(0xc3))/0x9);if(_0x3cb214===_0xe102d3)break;else _0x1e9683['push'](_0x1e9683['shift']());}catch(_0x3d7d70){_0x1e9683['push'](_0x1e9683['shift']());}}}(_0x3578,0x2ef34));import{getActiveDatabase}from'./firebase-config-manager.js';import{initializeApp}from'https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js';function _0x4e48(_0x38d31e,_0x27e935){const _0x357874=_0x3578();return _0x4e48=function(_0x4e48e0,_0x1f218b){_0x4e48e0=_0x4e48e0-0x8b;let _0x475235=_0x357874[_0x4e48e0];return _0x475235;},_0x4e48(_0x38d31e,_0x27e935);}import{getDatabase,ref,get,set,runTransaction}from'https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js';const firebaseConfigs=[{'databaseURL':'https://cyber1-9c84f-default-rtdb.firebaseio.com'},{'databaseURL':_0x19e427(0xd0)},{'databaseURL':_0x19e427(0xc0)},{'databaseURL':_0x19e427(0x9c)},{'databaseURL':_0x19e427(0xae)},{'databaseURL':_0x19e427(0x99)},{'databaseURL':'https://eduque-moi-374cb-default-rtdb.firebaseio.com'},{'databaseURL':'https://eduque-moi-bada8-default-rtdb.firebaseio.com'},{'databaseURL':_0x19e427(0xbc)},{'databaseURL':_0x19e427(0xc1)},{'databaseURL':_0x19e427(0xa5)},{'databaseURL':_0x19e427(0xbe)},{'databaseURL':_0x19e427(0xb1)},{'databaseURL':_0x19e427(0xb0)},{'databaseURL':_0x19e427(0xcf)},{'databaseURL':_0x19e427(0x91)},{'databaseURL':_0x19e427(0x90)},{'databaseURL':_0x19e427(0xce)},{'databaseURL':_0x19e427(0xc7)},{'databaseURL':_0x19e427(0x8d)}],META_DB_INDEX=0x0,MAX_CONNECTIONS=0x3e8;function logMessage(_0xf42227){const _0x2978af=_0x19e427,_0x311fba=document[_0x2978af(0xc5)](_0x2978af(0xaf));_0x311fba[_0x2978af(0x8c)]+=_0xf42227+'\x0a',_0x311fba[_0x2978af(0x97)]=_0x311fba['scrollHeight'];}function initializeAppWithIndex(_0x38bfa4){const _0x139eba=_0x19e427,_0x112cea=firebaseConfigs[_0x38bfa4];if(!_0x112cea)throw new Error('Invalid\x20database\x20index:\x20'+_0x38bfa4);const _0x64595f=_0x139eba(0xb7)+_0x38bfa4;try{const _0x25fc1e=initializeApp(_0x112cea,_0x64595f);return _0x25fc1e;}catch(_0x3f2d16){if(_0x3f2d16['code']===_0x139eba(0x93))return getApp(_0x64595f);else throw _0x3f2d16;}}async function getOrCreateConnectionCounter(_0x223a00,_0x46e4b4){const _0x34ec41=_0x19e427,_0x58ca2a=ref(_0x223a00,_0x34ec41(0xb5)),_0x15cb03=await get(_0x58ca2a);if(!_0x15cb03[_0x34ec41(0x8f)]())return await set(_0x58ca2a,0x0),logMessage(_0x34ec41(0xd2)+(_0x46e4b4+0x1)),0x0;return logMessage(_0x34ec41(0xb6)+_0x15cb03[_0x34ec41(0xa1)]()+_0x34ec41(0xa6)+(_0x46e4b4+0x1)),_0x15cb03[_0x34ec41(0xa1)]();}async function getCurrentDatabaseIndex(){const _0x2af3b0=_0x19e427,_0x56cabb=initializeAppWithIndex(META_DB_INDEX),_0x509a52=getDatabase(_0x56cabb),_0xb28a13=ref(_0x509a52,'currentDatabaseIndex'),_0x4b990b=await get(_0xb28a13);return _0x4b990b[_0x2af3b0(0x8f)]()?(logMessage(_0x2af3b0(0xa8)+_0x4b990b[_0x2af3b0(0xa1)]()),_0x4b990b[_0x2af3b0(0xa1)]()):(await set(_0xb28a13,0x0),logMessage('Current\x20Index\x20initialized\x20in\x20Metadb:\x200'),0x0);}async function updateDashboard(){const _0x122a0a=_0x19e427,_0x447c97=document[_0x122a0a(0xc5)](_0x122a0a(0xb4));_0x447c97[_0x122a0a(0xb8)]='';const _0x2d8ae4=await getCurrentDatabaseIndex();for(let _0x25f093=0x0;_0x25f093<firebaseConfigs[_0x122a0a(0xaa)];_0x25f093++){const _0x2fdf48=initializeAppWithIndex(_0x25f093),_0x1d3833=getDatabase(_0x2fdf48),_0x3765f4=await getOrCreateConnectionCounter(_0x1d3833,_0x25f093),_0x507e47=document[_0x122a0a(0x9d)](_0x122a0a(0xc8));_0x507e47['classList'][_0x122a0a(0xc9)](_0x122a0a(0xad));const _0x4e5098=document[_0x122a0a(0x9d)](_0x122a0a(0xc8));_0x4e5098['classList'][_0x122a0a(0xc9)](_0x122a0a(0xca)),_0x4e5098[_0x122a0a(0x8c)]=_0x122a0a(0x8e)+(_0x25f093+0x1),_0x507e47['appendChild'](_0x4e5098);const _0x12a5ba=document['createElement'](_0x122a0a(0xc8));_0x12a5ba['classList'][_0x122a0a(0xc9)](_0x122a0a(0x94));let _0x12ceaa=_0x122a0a(0xc6)+(_0x25f093===_0x2d8ae4?_0x122a0a(0xb2):_0x122a0a(0xbf))+'\x22>'+(_0x25f093===_0x2d8ae4?'Active':_0x122a0a(0xcc))+_0x122a0a(0xa3);_0x12a5ba[_0x122a0a(0xb8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20URL:\x20'+firebaseConfigs[_0x25f093][_0x122a0a(0xab)]+_0x122a0a(0xcb)+_0x3765f4+_0x122a0a(0xba)+MAX_CONNECTIONS+'<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Status:\x20'+_0x12ceaa+_0x122a0a(0xac),_0x507e47[_0x122a0a(0x95)](_0x12a5ba),_0x447c97[_0x122a0a(0x95)](_0x507e47);}}async function simulateConnection(){const _0x419b1b=_0x19e427;try{const _0x5c49b0=await getActiveDatabase();logMessage(_0x419b1b(0x9f));}catch(_0x30fd73){logMessage(_0x419b1b(0xbd)+_0x30fd73[_0x419b1b(0x9a)]);}finally{updateDashboard();}}async function forceSync(){const _0x121e7f=_0x19e427;try{let _0x396e27=await getCurrentDatabaseIndex();const _0x4ec513=_0x396e27;_0x396e27=(_0x396e27+0x1)%firebaseConfigs[_0x121e7f(0xaa)],logMessage('Manual\x20Sync\x20:\x20Switching\x20to\x20database\x20index:\x20'+_0x396e27),await synchronizeData(_0x4ec513,_0x396e27);const _0x18c0f6=initializeAppWithIndex(META_DB_INDEX),_0x21beb1=getDatabase(_0x18c0f6),_0x552696=ref(_0x21beb1,'currentDatabaseIndex');await set(_0x552696,_0x396e27),logMessage(_0x121e7f(0xbb)+_0x396e27);}catch(_0x1479c4){logMessage(_0x121e7f(0xcd)+_0x1479c4[_0x121e7f(0x9a)]);}finally{updateDashboard();}}async function synchronizeData(_0xb75f89,_0xdb9ad1){const _0x172f72=_0x19e427;if(_0xb75f89===-0x1)return;logMessage(_0x172f72(0x96));const _0x8ae54e=initializeAppWithIndex(_0xb75f89),_0x18c543=initializeAppWithIndex(_0xdb9ad1),_0x47efaf=getDatabase(_0x8ae54e),_0x4fc95d=getDatabase(_0x18c543),_0xa2222b=['users','users-data'];for(const _0x47276d of _0xa2222b){try{const _0x5e1c45=ref(_0x47efaf,_0x47276d),_0x47757c=ref(_0x4fc95d,_0x47276d),_0x3dc230=await get(_0x5e1c45),_0x4f9531=_0x3dc230['val']();_0x4f9531&&(await set(_0x47757c,_0x4f9531),logMessage(_0x172f72(0xa2)+_0x47276d));}catch(_0x24dfd2){logMessage(_0x172f72(0xc2)+_0x47276d+':\x20'+_0x24dfd2);throw new Error(_0x172f72(0xb9)+_0x24dfd2['message']);}}logMessage(_0x172f72(0xb3)),await set(ref(_0x47efaf,'connectionCounter'),0x0);}updateDashboard(),setInterval(updateDashboard,0x2710),document['getElementById'](_0x19e427(0xc4))[_0x19e427(0xd1)](_0x19e427(0xd3),()=>{const _0x1f0de7=0x32;for(let _0x8436df=0x0;_0x8436df<_0x1f0de7;_0x8436df++){simulateConnection();}}),document[_0x19e427(0xc5)](_0x19e427(0xa0))[_0x19e427(0xd1)](_0x19e427(0xd3),forceSync);function _0x3578(){const _0x523aa7=['https://wifi-zone-tanto-default-rtdb.firebaseio.com','createElement','332340gyoWOf','Simulated\x20connection\x20successful.','syncButton','val','Data\x20synchronized\x20for\x20path:\x20','</span>','1743642TkrmfJ','https://mon-logement-d930b-default-rtdb.firebaseio.com','\x20for\x20database\x20','575992NsoOTm','Current\x20Index\x20in\x20Metadb:\x20','1071890ZcYXcF','length','databaseURL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','card','https://cine-evisions-default-rtdb.firebaseio.com','log','https://paj-market-edd38-default-rtdb.firebaseio.com','https://my-save-fa5fa-default-rtdb.firebaseio.com','status-active','Database\x20synchronization\x20complete.','dashboard','connectionCounter','Connection\x20counter\x20value\x20','app','innerHTML','Error\x20during\x20synchronization:\x20','\x20/\x20','Manual\x20Sync\x20:\x20Current\x20Index\x20in\x20Metadb\x20updated:\x20','https://eduque-moi-lite-default-rtdb.firebaseio.com','Error\x20simulating\x20connection:\x20','https://mon-tuteur-42271-default-rtdb.firebaseio.com','status-inactive','https://espoirplus-d68c2-default-rtdb.firebaseio.com','https://evisions-9196f-default-rtdb.firebaseio.com','Error\x20synchronizing\x20path\x20','9zVetgB','testButton','getElementById','<span\x20class=\x22','https://tontine-4a303-default-rtdb.firebaseio.com','div','add','card-title','<br>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Connections:\x20','Inactive','Error\x20Forcing\x20synchronization:\x20','https://test-2f1c1-default-rtdb.firebaseio.com','https://pajmarket-default-rtdb.firebaseio.com','https://le-locataire-default-rtdb.firebaseio.com','addEventListener','Connection\x20counter\x20initialized\x20for\x20database\x20','click','730716UiwgTF','textContent','https://idealer-6a95b-default-rtdb.firebaseio.com','Database\x20','exists','https://svterminal-4de34-default-rtdb.firebaseio.com','https://save-2-95c36-default-rtdb.firebaseio.com','3FxtLfy','app/duplicate-app','card-content','appendChild','Starting\x20database\x20synchronization...','scrollTop','11614ttbDjC','https://campus-b1d76-default-rtdb.firebaseio.com','message','8507488evUoOJ'];_0x3578=function(){return _0x523aa7;};return _0x3578();}

    </script>
</body>
</html>